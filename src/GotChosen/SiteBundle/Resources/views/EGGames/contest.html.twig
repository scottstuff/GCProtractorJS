{% extends 'GotChosenSiteBundle::layout_eg.html.twig' %}

{% block title %}EvolutionGames | {{ parent() }}{% endblock %}

{% block active_tab %}contest{% endblock %}

{% block eg_content %}

    <div id="fb-root"></div>
    <script>(function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>

    {# play button, game name, studio name, genre, number of plays #}
    <div class="contest-games" style="border: 1px solid #DDDDDD;border-radius:15px;padding:5px 5px 5px 10px;width:910px;">
        {% if contestGames|length > 0 %}
            <ul style="display:inline-block; width:910px; margin: 5px 0px 5px 5px;">
            
            {% for game in contestGames %}
                <li class="game" style="display:inline-block; border-bottom:1px solid #AAAAAA;float:none;width:215px;">
                <div style="padding:5px;line-height:12px;text-align:left;width:205px;">
                    <p class="vidHead" style=" line-height:12px;font-size:12px;text-align: left;margin-bottom: 2px;">
                    <a href="{{ path('eg_game', {'id': game.id, 'slug': game.gameName|gc_slugify}) }}">{{ game.gameName|length > 55 ? game.gameName[:55] ~ '...' : game.gameName }}</a>
                    </p>
                        <span class="vidCat" style="font-size:11px;line-height:11px;text-align: left;">Cat: {{ game.genre.name }}<br/> 
                            By: <em><a href="{{ path('eg_game', {'id': game.id, 'slug': game.gameName|gc_slugify}) }}">{{ game.studioName }}</a></em></span>
                            
                                    <div class="vote-btn" style="padding:5px 15px 5px 5px;text-align: left;">
                                        <a class="btn btn-primary btn-block"
                                           href="{{ path('eg_game', {'id': game.id, 'slug': game.gameName|gc_slugify}) }}" >
                                            <strong>Play!</strong>
                                        </a>
                                    </div>
                            

                {% if game.screenshotFile %}
                    {% spaceless %}
                    <div style="height:148px;width:195px;min-height:148px;background-color:black;text-align:center;">
                        <span style="vertical-align: middle; height: 100%; display: inline-block;"></span>
                        <a href="{{ path('eg_game', {'id': game.id, 'slug': game.gameName|gc_slugify}) }}"><img src="{{ game.screenshotFile }}" class="size-contest" alt="{{ game.gameName }}" /></a>
                    </div>
                    {% endspaceless %}
                {% else %}
                    {% spaceless %}
                    <div style="height:148px;width:195px;min-height:148px;background-color:black;text-align:center;">
                        <span style="vertical-align: middle; height: 100%; display: inline-block;"></span>
                        <a href="{{ path('eg_game', {'id': game.id, 'slug': game.gameName|gc_slugify}) }}"><img src="{{ asset('bundles/gotchosensite/images/no_picture.png') }}" class="size-contest" alt="{{ game.gameName }}" /></a>
                    </div>
                    {% endspaceless %}
                {% endif %}
                </div>
                </li>

            {% endfor %}
                </ul>
         {% endif %}
    </div>

    {#
    (Right) Player Card
        Facebook, twitter, google+, tumblr

        Player avatar
        Player name
        Access to User profile by clicking on name
        (Includes all player-provided and site-generated player info)
        # Tokens
        Ranking (player’s rank – out of total players playing games in contest)
        Player’s Report Card – These are the totals TO DATE
            # pts generated by winning games
            # pts generated by winning different games
            # pts generated by feedback
    #}
    {#
    <div class="contest-card">

        <div class="social">
            <div class="fb-like" data-href="https://www.facebook.com/GotChosenEvolutionGames" data-send="false"
                 data-width="200" data-show-faces="false" data-colorscheme="light"></div>

            <iframe allowtransparency="true" frameborder="0" scrolling="no"
                    src="//platform.twitter.com/widgets/follow_button.html?screen_name=GotChosen&amp;show_count=true"
                    style="width:240px; height:20px; margin-top: 8px; margin-bottom: 8px;"></iframe>

            <div class="g-follow" data-annotation="bubble" data-height="24"
                 data-href="https://plus.google.com/108734811824782587217" data-rel="publisher"></div>
            <script type="text/javascript">
                (function() {
                    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                    po.src = 'https://apis.google.com/js/plusone.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                })();
            </script>

            <iframe frameborder="0" border="0" scrolling="no" allowtransparency="true"
                    style="height:25px; width:240px; margin-top: 8px;"
                    src="http://platform.tumblr.com/v1/follow_button.html?button_type=1&tumblelog=gotchosen&color_scheme=light"></iframe>
        </div>

        {% if app.user %}
            <div class="avatar">
                <img src="http://placehold.it/180x180" alt="Avatar" />
            </div>
            <div class="name">
                <a href="{{ path('user_my_profile') }}">{{ app.user.fullName }}</a>
            </div>
            <div class="tokens">Tokens: <strong>52</strong></div>
            <div class="ranking">Ranking: <strong>#14</strong> of 1,832</div>

            <div class="report-card">
                <h4>Player Report Card</h4>

                <ul>
                    <li>Winning Games: 32 points</li>
                    <li>Different Games: 88 points</li>
                    <li>Feedback: 59 points</li>
                    <li><strong>Total: 179 points</strong></li>
                </ul>
            </div>
        {% endif %}
    </div>
    #}

{% endblock %}